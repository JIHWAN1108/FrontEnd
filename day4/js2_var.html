<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>자바스크립트 예제 #2</title>
</head>
<body>
    <!-- 참고 : 자바에서 { } 은 명령어 블록이다. ->> block scope 의 지역변수
        자바스크립트 변수 var 의 문제점.
        1. 같은 변수의 이름을 중복해서 선언할 수 있다.
        2. block scope이 적용이 안된다.
        3. 변수를 선언하지 않고도 사용할 수 있다.
        4. 변수선언에 타입의 제약을 받지 않는다.
    -->

    <script>
        'use strict';   // 엄격모드 : 변수선언에 대한 처리이다. 선언하지 않은 변수를 사용했을 때 오류 발생시킴.
        var v1 = 123; console.log(v1);
        v1 = 312; console.log(v1);
        var v1 = 999; console.log(v1);  //원래 에러나야 정상.( 1. 변수가 중복되어 선언되었기 때문)
        if(10>5){
            var v1 = 456;
        }
        console.log(v1);    // 이렇게 하면 지역변수는 안에서만 사용 가능해서 123이 나오도록 예상을 한다.
                        // -->2. 그러나 456이 출력되는 것을 볼 수 있음. 결론 : JSP의 var선언은 block scope 적용 X.
        // temp = 1000; console.log(temp);         // -->3. temp 선언 없음. 에러 예상. 그러나 실행됨
        
        var v4 = 123; console.log(v4);  // 123을 메모리에 저장하고 v4가 참조. 아래는 abcde를 메모리에 저장하고 v4가 참조.
        v4 = 'abcde'; console.log(v4);  //-->4. 변수 선언할 때 타입이 없다. 선언된 값과 다른 형식의 데이터를 대입할 수 있다.
                    // 즉, 정수 외의 다른 타입 데이터가 대입될 수 있다.
        console.log('---------------')
    </script>

    <script>    // 변수 호이스팅 : 선언된 변수를 다른 명령어들보다 먼저 처리한다.
        let v2 = 123; console.log(v2);
        // let v2 = 999; console.log(v2);  // let으로 했을 시에는 에러 정상적으로 발생.
        if(10>5){
            let v2 = 456;
        }
        console.log(v2);    // 123 --> 지역변수는 block scope 이다.
        v2 = 321;
        console.log(v2);
    </script>
    <!-- 결론은 use strict 선언하고 let을 쓰자. -->
</body>
</html>